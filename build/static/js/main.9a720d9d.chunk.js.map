{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/People.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","filterString","filterPeople","Person","person","remove","name","number","onClick","People","people","removePerson","map","id","baseUrl","axios","get","then","response","data","newObject","post","personToDelete","delete","updatedObject","put","Notification","message","styleColor","color","msgColor","className","style","App","useState","setPeople","setNewName","setNewNumber","setFilterString","showMessage","setMessage","errorMessage","setErrorMsg","useEffect","personsService","initialPeople","catch","error","console","log","peopleToShow","length","filter","toLowerCase","startsWith","event","target","preventDefault","includes","window","confirm","personToUpdate","find","updatedPerson","returnedPerson","setTimeout","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a720d9d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>name: <input value={newName} onChange={handleNameChange} /></div>\r\n            <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Filter = ({ filterString, filterPeople }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={filterString} onChange={filterPeople} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Person = ({ person, remove }) => {\r\n    return (\r\n        <li>\r\n            {person.name} - {person.number} <button onClick={remove}>Delete</button>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst People = ({ people, removePerson }) => {\r\n    return (\r\n        <ul>\r\n            {people.map(person =>\r\n                <Person key={person.id} person={person} remove={() => removePerson(person)}/>\r\n            )}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default People;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = personToDelete => {\r\n    const request = axios.delete(`${baseUrl}/${personToDelete.id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, updatedObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update };","import React from 'react';\r\n\r\nconst Notification = ({ message, msgColor }) => {\r\n    const styleColor = {\r\n        color: msgColor\r\n    }\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"notification\" style={styleColor}>\r\n            {message}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport People from './components/People';\nimport personsService from './services/persons';\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [people, setPeople] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filterString, setFilterString] = useState('');\n    const [showMessage, setMessage] = useState(null);\n    const [errorMessage, setErrorMsg] = useState(null)\n\n    useEffect(() => {\n        //console.log('effect');\n        personsService\n            .getAll()\n            .then(initialPeople => {\n                setPeople(initialPeople);\n            })\n            .catch(error => {\n                console.log('There was an error getting initial people');\n            });\n    }, []);\n    //console.log('render', people.length, 'people');\n\n    const addPerson = (event) => {\n        event.preventDefault();\n        if (people.map(person => person.name).includes(newName)) {\n            if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n                const personToUpdate = people.find(person => person.name === newName);\n                const updatedPerson = { ...personToUpdate, number: newNumber}\n                personsService\n                    .update(personToUpdate.id, updatedPerson)\n                    .then(returnedPerson => {\n                        setPeople(people.map(person => person.id !== personToUpdate.id ? person : returnedPerson));\n                        setMessage(\n                            `Number for ${returnedPerson.name} updated successfully`\n                        );\n                        setTimeout(() => {\n                            setMessage(null);\n                        }, 3000);\n                    })\n                    .catch(error => {\n                        console.log('Error: ', error.response.data);\n                        setErrorMsg(error.response.data.error);\n                        setTimeout(() => {\n                            setErrorMsg(null);\n                        }, 3000);\n                        setPeople(people);\n                    })\n            }\n            setNewName('');\n            setNewNumber('');\n        } else {\n            const personObject = {\n                name: newName,\n                number: newNumber\n            };\n            personsService\n                .create(personObject)\n                .then(returnedPerson => {\n                    setPeople(people.concat(returnedPerson));\n                    setNewName('');\n                    setNewNumber('');\n                    setMessage(\n                        `${returnedPerson.name} added successfully`\n                    );\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 3000);\n                })\n                .catch(error => {\n                    console.log('Error: ', error.response.data);\n                        setErrorMsg(error.response.data.error);\n                        setTimeout(() => {\n                            setErrorMsg(null);\n                        }, 3000);\n                });\n        }\n    };\n\n    const removePerson = (personToDelete) => {\n        //console.log(`Person ${personToDelete.id} to be deleted..`);\n        if(window.confirm(`Really delete ${personToDelete.name}?`)) {\n            personsService\n                .remove(personToDelete)\n                .then(() => {\n                    //console.log(response);\n                    setPeople(people.filter(person => person.id !== personToDelete.id));\n                    setMessage(\n                        `${personToDelete.name} deleted successfully`\n                    );\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 3000);\n                })\n                .catch(error => {\n                    console.log('There was an error deleting person');\n                });\n        }\n    };\n\n    const handleNameChange = (event) => {\n        //console.log(event.target.value);\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        //console.log(event.target.value);\n        setNewNumber(event.target.value);\n    };\n\n    const filterPeople = (event) => {\n        setFilterString(event.target.value);\n    };\n\n    const peopleToShow = (filterString.length > 0)\n        ? people.filter(person =>\n            person.name.toLowerCase().startsWith(filterString.toLowerCase()))\n        : people;\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n\n            <Notification message={showMessage} msgColor='green'/>\n            <Notification message={errorMessage} msgColor='red' />\n\n            <Filter filterString={filterString} filterPeople={filterPeople} />\n\n            <h3>Add a new person</h3>\n            <PersonForm\n                addPerson={addPerson}\n                newName={newName}\n                handleNameChange={handleNameChange}\n                newNumber={newNumber}\n                handleNumberChange={handleNumberChange}\n            />\n\n            <h2>Numbers</h2>\n            <People people={peopleToShow} removePerson={removePerson}/>\n        </div>\n    );\n\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}